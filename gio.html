<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>2025 ~ 2026</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link href="https://fonts.googleapis.com/css?family=Russo+One" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">
    <link rel="stylesheet" href="./style.css">

    <style>
        /* Giao diện bộ đếm ngược */
        #countdown-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            text-align: center;
            background: rgba(0, 0, 0, 0.85);
            padding: 30px 40px;
            border-radius: 30px;
            border: 2px solid #ffcc00;
            box-shadow: 0 0 40px rgba(255, 204, 0, 0.4);
            min-width: 350px;
            pointer-events: none;
        }

        /* Đồng hồ thời gian thực và lá cờ */
        #real-time-clock {
            font-family: 'Bebas Neue', cursive;
            font-size: 1.5rem;
            color: #fff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            letter-spacing: 2px;
        }

        .vn-flag {
            width: 30px;
            height: auto;
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
            animation: flagWave 2s infinite ease-in-out;
        }

        @keyframes flagWave {
            0%, 100% { transform: rotate(-5deg) translateY(0); }
            50% { transform: rotate(5deg) translateY(-2px); }
        }

        .timer-title {
            color: #ffcc00;
            font-family: 'Russo One', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 25px;
            text-transform: uppercase;
            border-top: 1px solid rgba(255, 204, 0, 0.3);
            padding-top: 15px;
        }

        .timer-grid {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .unit-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 10px;
            border-radius: 15px;
            flex: 1;
        }

        .unit-box span {
            display: block;
            font-family: 'Bebas Neue', cursive;
            font-size: 3.5rem;
            color: #fff;
            line-height: 1;
        }

        .unit-label {
            color: #aaa;
            font-size: 0.7rem;
            text-transform: uppercase;
            margin-top: 8px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div id="countdown-container">
    <div id="real-time-clock">
        <span> <span id="current-time-digits">00:00:00</span></span>
        <img class="vn-flag" src="https://upload.wikimedia.org/wikipedia/commons/2/21/Flag_of_Vietnam.svg" alt="Vietnam Flag">
    </div>
    
    <div class="timer-title" id="main-title">2026 SẼ ĐẾN SAU</div>
    
    <div class="timer-grid">
        <div class="unit-box">
            <span id="days">00</span>
            <div class="unit-label">Ngày</div>
        </div>
        <div class="unit-box">
            <span id="hours">00</span>
            <div class="unit-label">Giờ</div>
        </div>
        <div class="unit-box">
            <span id="mins">00</span>
            <div class="unit-label">Phút</div>
        </div>
        <div class="unit-box">
            <span id="secs">00</span>
            <div class="unit-label">Giây</div>
        </div>
    </div>
</div>

<div class="container">
    <div class="stage-container">
        <div class="canvas-container">
            <canvas id="trails-canvas"></canvas>
            <canvas id="main-canvas"></canvas>
        </div>
    </div>
</div>

<script src="vl.js"></script>
<script src="./script.js"></script>

<script>
    function startCountdown() {
        // Thiết lập mốc thời gian đích
        const targetTime = new Date();
        targetTime.setHours(23, 59, 56, 0); 

        const timer = setInterval(function() {
            const now = new Date();
            
            // 1. Cập nhật đồng hồ hiện tại (Giờ:Phút:Giây)
            const h = now.getHours().toString().padStart(2, '0');
            const m = now.getMinutes().toString().padStart(2, '0');
            const s = now.getSeconds().toString().padStart(2, '0');
            document.getElementById("current-time-digits").innerText = `${h}:${m}:${s}`;

            // 2. Tính toán khoảng cách đếm ngược
            const distance = targetTime.getTime() - now.getTime();

            // Nếu đến giờ, chuyển trang
            if (distance <= 0) {
                clearInterval(timer);
                document.getElementById("main-title").innerText = "CHÚC MỪNG NĂM MỚI!";
                window.location.href = "index.html"; 
                return;
            }

            // Tính toán số liệu Ngày, Giờ, Phút, Giây
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Cập nhật giao diện bộ đếm
            document.getElementById("days").innerText = days.toString().padStart(2, '0');
            document.getElementById("hours").innerText = hours.toString().padStart(2, '0');
            document.getElementById("mins").innerText = minutes.toString().padStart(2, '0');
            document.getElementById("secs").innerText = seconds.toString().padStart(2, '0');
        }, 1000);
    }

    // Khởi động khi trang tải xong
    window.addEventListener('DOMContentLoaded', startCountdown);
</script>

</body>
</html>